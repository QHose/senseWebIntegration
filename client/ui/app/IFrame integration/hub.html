<template name="hub">
    <div class="ui segment ">
        {{#unless QSE}}
        {{>fiddleHub}}
            <!-- <iframe src="{{hubURL}}"></iframe> -->
            {{else}}
                <div class="ui container">
                    <div class="ui icon negative message">
                        <i class="warning sign icon"></i>
                        <div class="content">
                            <div class="header">
                                The hub is not part of the QAP license </div>
                            <ul class="list">
                                <li>We can't show this "screen" anymore, since the hub not part of the QAP <a target="_blank" href="https://youtu.be/yLTqzftDa7s?t=475">(video).</a>
                                </li>
                                <li>Note: Qlik Sense Enterprise contains <b>all functionality.</b>The QAP functionality is almost the same as Qlik Sense Enterprise. The only difference is that <b>the hub is not available</b> (everything else, like our APIs, DEV-HUB, QMC are still available). With the hub you normally create apps and sheet and charts. (The other option is that you can use the APIs)</li>
                                <li>Because we removed our client facing front-end: the hub, you will have to create your own front-end. Therefore you can only use the QAP license if you already have a website, Qlik Sense mashup or mobile app in which you want to embed Qlik Sense.</li>
                                <li>Because there is no hub, you will have to create your app on a separate Qlik Sense Enterprise environment and import it later on in the QAP (<a target="_blank" href="https://youtu.be/yLTqzftDa7s?t=363">video</a>). But off course you can always use our APIs to do anything you like. For example, if you embed a sheet, you will have to build your own sheet navigation buttons in your website or via a extension.</li>
                            </ul>
                        </div>
                    </div>
                    <div class="ui very padded grid">
                        <div class="column">
                            <img class="ui fluid image" src="{{SaaSDemoURL}}/images/QAP verus Qlik sense enterprise functionality difference.png">
                        </div>
                    </div>
                </div>
        {{/unless}}
    </div>
</template>
<template name="fiddleHub">
    <iframe src="//jsfiddle.net/qhose/0nn9bvg6/embedded/result,html,css/" allowfullscreen="allowfullscreen" frameborder="0"></iframe>
</template>

<template name="hubExplanationText">
    <!-- <div class="ui message"> -->
    <div class="header">
        <h4>IFrame Integration: hub</h4>
    </div>
    <div class="ui bulleted link list">
        <div class="item"><a class="item" href="{{pathFor 'fiddleHub'}}">Play around with this API</a></div>
        {{> defaultTechnicalInformation}}
        <div class="item">This demo shows that you can integrate the Qlik Sense Hub using an IFrame. </div>
        <div class="item">With an HTML IFrame you can show a website inside another website.</div>
        <div class="item">This is the most simple and loosely coupled integration. You will use our Qlik Sense client (the Hub) to display and modify content like apps and sheets. Note that you can also create your own version of the hub. Using the <a href="https://help.qlik.com/en-US/sense-developer/3.1/Subsystems/APIs/Content/MashupAPI/qlik-global-interface.htm" target="_blank"> global API</a> you can request a list of streams and apps including their properties like images etc.</div>
        <div class="item">In this example we included: {{hubURL}}, see <a href="https://github.com/QHose/senseWebIntegration/blob/master/client/ui/app/IFrame%20integration/app.html#L3" target="_blank">source</a> </div>
        <div class="item">Note that using this generic link, the hub automatically shows only authorized data for the logged in user. (This is possible because we have sent a ticket to Qlik Sense with all the information about the user (userId and group memberships). Based on this we have created 1 security rule in the QMC: user.group = resource.name (filter: Stream_*) that ensures a flexible authorization concept</div>
    </div>
    <!-- </div> -->
</template>

<template name="defaultTechnicalInformation">
    <div class="item">You can generate the code to embed in your site using the <a target="_blank" href="{{QlikSenseDemoURLAnon}}/dev-hub/">the Sense dev-hub.</a> or use the <a href="https://help.qlik.com/en-US/sense-developer/June2019/Subsystems/Plugins/Content/Sense_Plugins/GettingStarted/GettingStarted.htm" target="_blank"> Visual Studio Plugin</a>.</div>
</template>
